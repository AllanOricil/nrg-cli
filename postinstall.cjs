const fs = require('fs');
const path = require('path');
const chalk = require('chalk');

const packageJsonPath = path.join(__dirname, 'package.json');
const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));
const version = packageJson.version;

const logo = `
                    :     ********                          
                     :+******##*******                      
                  ****-**#%%%%%%%%#*******                  
               ******##-#%%%%%%%%%%%%%#*******              
           ******##%%%%#:*%%%%%%%%%%%%%%%%#******           
       ******##%%%%%%%%%#:+%%%%%%%%%%%%%%%%%%%##*#*##       
   *******#%%%%%%%%%%%%%%*:-%%%%%%%%%%%%%%%%%%%%%%#######   
******#%%%%%%%%%%%%%%%%%%%*:-#%%%%%%%%%%%%%%%%%%%%%%%#######
**##%%%%%%%%%%%%%%%%%%%%%%%*::*%%%%%%%%%%%%%%%%%%%%%%%%%%###
**#%%%%%%%%%%%%+*%%%%%%%%%%%+::+%%%%%%%%%%%%%%%%%%%%%%%%%%##
**#%%%%%%%%%%%%%-::=+#%%%%%%%=::=%%%%%%%%%%%%%%%%%%%%%%%%%##
**#%%%%%%%%%%%%%%+:::::-+*#%%%=::-%%%%%%%%%%%%%%%%%%%%%%%%##
**#%%%%%%%%%%%%%%%*:::::::::=+#-:::#%%%%%%%%%%%%%%%%%%%%%%##
**#%%%%%%%%%%%%%%%%#-:::::::::::::::*%%%%%%%%%%%%%%%%%%@@%##
**#%%%%%%%%%%%%%%%%%%=:::::::::::::::=%%%%%%%%%%%%%%%@@@@%##
**#%%%%%%%%%%%%%%%%%%%*:::::::::::::::-%%%%%%%%%%%%@%@@@@%##
**#%%%%%%%%%%%%%%%%%%%%#-::::::++-:::::-#%%%%%%%%%@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%=:::::=%%%#*+=-:*%%%%%@@@@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%%*:::::+%%%%%%%%#%%%%@@@@@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%%%#-::::*%%%%%%%%%@@@%@@@@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%%%%%-::::#%%%%%%%%@@@@@@@@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%%%%%%+::::#%%%%%@@@@@@@@@@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%%%%%%%#:::-%%%@@@@@@@@@@@@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-::-%%@@@@@@@@@@@@@@@@@@%##
**#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%=::=%@@@@@@@@@@@@@@@@@%%##
*****##%%%%%%%%%%%%%%%%%%%%%%%%%%%@*::+@@@@@@@@@@@@@%%######
   ******##%%%%%%%%%%%%%%%%%%%%@@@@@#-:*@@@@@@@@%%%######   
       ****###%%%%%%%%%%%%%%%@@@@@@@@%=:#@@@%%%######       
           #######%%%%%%%%%%@@@@@@@@@@@*-#%######           
               #######%%%@%@@@@@@@@@%%%#*-*##               
                  #######%%%@@@@%%%######=:                 
                      #######%%#######     :                
                          ########                          
`;

const authorName = 'Allan Oricil';
const thankYouMessage = `
Thank you for installing the nrg CLI! ðŸš€

You are now ready to power up your projects with ease. For help and guidance, run:

  nrg --help

Happy coding! ðŸŽ‰
`;

const message = `${chalk.bold(authorName)}\n${chalk.green(`version ${version}`)}\n${thankYouMessage}`;
const padding = ' '.repeat((logo.split('\n')[0].length - message.split('\n').map(line => line.length).reduce((a, b) => Math.max(a, b), 0)) / 2);

console.log(logo);
console.log(`${padding}${message}\n`);
